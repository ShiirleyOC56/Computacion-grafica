{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>Base de datos Firebase</title>
	<link rel="stylesheet" type="text/css" href="{% static 'css/estilos.css' %}">
  <meta charset="utf-8">
</head>
<body>
<header id="cabecera">Inicio de Sesi칩n
</header>
<section>
	<center>
    <br>
		<label>Usuario</label>
    <br>
    <input id="user" type="text" placeholder="Usuario">
		<br>
    <br>
		<label>Contrase침a</label>
    <br>
    <input id="password" type="password" placeholder="Constrase침a">
    <br>
    <br>
    <button id="register" onclick="signIn()">Iniciar sesi칩n</button>
  </center>
</section>
<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-analytics.js"></script>
<center>
</center>
<script id="MainScript">
	 // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  	var firebaseConfig = {
		    apiKey: "AIzaSyBF66jpmKx3C_YCyYBUwozoLFH9HLk0Ouc",
		    authDomain: "mysite-7a120.firebaseapp.com",
		    databaseURL: "https://mysite-7a120-default-rtdb.firebaseio.com",
		    projectId: "mysite-7a120",
		    storageBucket: "mysite-7a120.appspot.com",
		    messagingSenderId: "752547508653",
		    appId: "1:752547508653:web:1f64eb4ce12343378af124"
  	};
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
 //Firebase auth
 const auth = firebase.auth();
  
  
  
  function signIn(){
    
    var email = document.getElementById("user");
    var password = document.getElementById("password");
    
    const promise = auth.signInWithEmailAndPassword(email.value, password.value);
    typeof(promise);
    promise.catch(e => alert(e.message));
    alert("Bienvenido");
    window.location.href = "{% url 'Ops:scanner_index' %}";
  
}
 
</script>
</body>
</html>